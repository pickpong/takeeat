<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TakeEat</title>
    <link href="/images/fav.png" rel="shortcut icon" type="image/x-icon">

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <th:block th:replace="fragment/marketSidebar :: head"></th:block>
    <link rel="stylesheet" type="text/css" href="/css/market/marketOptionStyle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<!-- sidebar -->
<div th:replace="~{fragment/marketSidebar :: sidebar}"></div>
<!-- content -->
    <div id="container">
        <div class="length-container">
            <div class="line-container">
                <div class="rectangle" onclick="location.href='/market/info'" style="cursor: pointer;">
                    <div class="bar-text">기본정보</div>
                </div>
                <div class="rectangle margin-left-20" onclick="location.href='/market/menu'" style="cursor: pointer;">
                    <div class="bar-text">메뉴등록</div>
                </div>
                <div class="rectangle margin-left-20 rectangle-color">
                    <div class="bar-text">옵션등록</div>
                </div>
            </div>
            <br/>
            <form id="optionForm" th:action="@{/market/option/save}" th:object="${optionRequest}" method="post">
                <div class="info-box">
                    <div class="line-container margin-top-40">
                        <div class="l-info-text">옵션 등록</div>
                        <div class="tip-container">
                            <div class="tip" style="margin-top: 6px;">
                                <p>옵션 카테고리와 하위 옵션들을 등록해주세요.<br>단일 옵션만 지원됩니다. 다중 옵션은 메뉴에서 등록해주세요.<br>예) 떡 선택 카테고리에 밀떡, 쌀떡 옵션<br>&emsp;&nbsp;&nbsp;맵기단계 카테고리에 보통맛, 매운맛 옵션</p>
                            </div>
                        </div>
                    </div>
                    <!-- 자바스크립트에서 th:block 사용할 수 없어 숨겨놓고 id값으로 사용() -->
                    <div id="hiddenMenuOptions" style="display:block;">

                    </div>
                    <hr class="hr-margin"/>
                    <div id="category-container"></div>
                    <div class="line-text" id="add-category-button">옵션 카테고리 추가하기 +</div>
                    <div class="line-container-center">
                        <button type="button" class="form-button-submit margin-right-10" onclick="saveOption()">저장</button>
                        <button type="reset" class="form-button-reset">취소</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script id="optionTemplate" type="text/x-handlebars-template">
        {{#each options}}
        <option value="{{menuResponses.menuName}}">{{menuResponses.menuName}}</option>
        {{/each}}
    </script>
    <script src="/js/market/marketOption.js"></script>
</body>
</html>